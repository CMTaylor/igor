IgorPattern
	::= TreePattern
	| SubjectPattern (Combinator TreePattern)?

SubjectPattern
	::= TreePattern "!"

TreePattern
	::= NodePattern (Combinator NodePattern)*

Combinator
	::= S* ( S | ">" | "~") S*

NodePattern
	::= ClassTest InstanceTest*
	| InstanceTest+

ClassTest
	::= ClassName
	| ClassName "*"
	| "*"

InstanceTest
	::= "#" Identifier
	| ":" PositionTest
	| "[" Predicate "]"

Identifier
	::= Integer | Word | String
